{
  "type": "object",
  "title": "BingAds extractor row configuration",
  "required": [
    "destination",
    "object_type"
  ],
  "properties": {
    "object_type": {
      "title": "Object Type",
      "type": "string",
      "enum": [
        "entity",
        "report_prebuilt",
        "report_custom"
      ],
      "options": {
        "enum_titles": [
          "Entity",
          "Report (Prebuilt)",
          "Report (Custom)"
        ]
      },
      "default": "report",
      "propertyOrder": 1
    },
    "bulk_settings": {
      "type": "object",
      "title": "Entity Settings",
      "options": {
        "dependencies": {
          "object_type": [
            "entity"
          ]
        }
      },
      "required": [
        "download_entities",
        "since_last_sync_time"
      ],
      "properties": {
        "download_entities": {
          "type": "string",
          "title": "Entities",
          "format": "textarea",
          "default": "Campaigns,Ads",
          "options": {
            "input_height": "100px"
          },
          "description": "Comma separated list of entities to download, find supported entities in the <a href='https://google.com'>documentation</a>",
          "propertyOrder": 3000
        },
        "since_last_sync_time": {
          "type": "boolean",
          "title": "Only download changes since the last run",
          "format": "checkbox",
          "default": true
        }
      },
      "additionalProperties": false,
      "propertyOrder": 20
    },
    "report_settings_custom": {
      "type": "object",
      "title": "Report Settings",
      "required": [
        "report_type",
        "aggregation",
        "time_range",
        "return_only_complete_data",
        "columns",
        "primary_key"
      ],
      "options": {
        "dependencies": {
          "object_type": [
            "report_custom"
          ]
        }
      },
      "propertyOrder": 20,
      "properties": {
        "report_type": {
          "enum": [
            "AccountPerformance",
            "AdDynamicTextPerformance",
            "AdExtensionByAd",
            "AdExtensionByKeyword",
            "AdExtensionDetail",
            "AdGroupPerformance",
            "AdPerformance",
            "AgeGenderAudience",
            "AudiencePerformance",
            "BudgetSummary",
            "CallDetail",
            "CampaignPerformance",
            "ConversionPerformance",
            "DSAAutoTargetPerformance",
            "DSACategoryPerformance",
            "DSASearchQueryPerformance",
            "DestinationUrlPerformance",
            "GeographicPerformance",
            "GoalsAndFunnels",
            "KeywordPerformance",
            "NegativeKeywordConflict",
            "ProductDimensionPerformance",
            "ProductMatchCount",
            "ProductNegativeKeywordConflict",
            "ProductPartitionPerformance",
            "ProductPartitionUnitPerformance",
            "ProductSearchQueryPerformance",
            "ProfessionalDemographicsAudience",
            "PublisherUsagePerformance",
            "SearchCampaignChangeHistory",
            "SearchQueryPerformance",
            "ShareOfVoice",
            "UserLocationPerformance"
          ],
          "type": "string",
          "title": "Report type",
          "default": "Object",
          "description": "Select one of the available report types described in the <a href='https://google.com'>documentation</a>",
          "propertyOrder": 10
        },
        "aggregation": {
          "title": "Report aggregation",
          "description": "The type of aggregation to use to aggregate the report data.",
          "type": "string",
          "enum": [
            "Daily",
            "DayOfWeek",
            "Hourly",
            "HourOfDay",
            "Monthly",
            "Weekly",
            "WeeklyStartingMonday",
            "Yearly",
            "Summary"
          ],
          "default": "Daily",
          "propertyOrder": 20
        },
        "time_range": {
          "$ref": "#/definitions/time_range",
          "propertyOrder": 30
        },
        "return_only_complete_data": {
          "$ref": "#/definitions/return_only_complete_data",
          "propertyOrder": 40
        },
        "columns": {
          "type": "string",
          "title": "Columns",
          "format": "textarea",
          "options": {
            "input_height": "100px"
          },
          "description": "Comma separated list of columns to use for the report, find supported columns for specific report types in the <a href='https://TODO.com'>documentation</a>",
          "propertyOrder": 50
        },
        "primary_key": {
          "type": "string",
          "title": "Primary Key Columns",
          "format": "textarea",
          "options": {
            "input_height": "100px"
          },
          "description": "Comma separated list of columns to be used as primary key, find supported columns for specific report types in the <a href='https://TODO.com'>documentation</a>",
          "propertyOrder": 60
        }
      }
    },
    "report_settings_prebuilt": {
      "type": "object",
      "title": "Report Settings",
      "required": [
        "preset_name",
        "aggregation",
        "time_range",
        "return_only_complete_data"
      ],
      "options": {
        "dependencies": {
          "object_type": [
            "report_prebuilt"
          ]
        }
      },
      "propertyOrder": 20,
      "properties": {
        "preset_name": {
          "enum": [
            "AccountPerformance",
            "AccountImpressionPerformance",
            "AdGroupPerformance",
            "AdGroupImpressionPerformance",
            "CampaignPerformance",
            "CampaignImpressionPerformance",
            "ProductDimensionPerformance",
            "KeywordPerformance",
            "GeographicPerformance"
          ],
          "type": "string",
          "title": "Preset name",
          "default": "Object",
          "description": "Select one of the available report presets described in the <a href='https://TODO.com'>documentation</a>",
          "propertyOrder": 10
        },
        "aggregation": {
          "title": "Report aggregation",
          "description": "The type of aggregation to use to aggregate the report data. Only hourly and daily aggregation is available for prebuilt reports.",
          "type": "string",
          "enum": [
            "Daily",
            "Hourly"
          ],
          "default": "Daily",
          "propertyOrder": 20
        },
        "time_range": {
          "$ref": "#/definitions/time_range",
          "propertyOrder": 30
        },
        "return_only_complete_data": {
          "$ref": "#/definitions/return_only_complete_data",
          "propertyOrder": 40
        }
      }
    },
    "destination": {
      "type": "object",
      "title": "Destination",
      "required": [
        "output_table_name",
        "load_type"
      ],
      "properties": {
        "load_type": {
          "enum": [
            "full_load",
            "incremental_load"
          ],
          "type": "string",
          "title": "Load Type",
          "format": "checkbox",
          "default": "incremental_load",
          "options": {
            "enum_titles": [
              "Full Load",
              "Incremental Load"
            ]
          },
          "description": "If Full load is used, the destination table will be overwritten every run. If incremental load is used, data will be upserted into the destination table. Tables with a primary key will have rows updated, tables without a primary key will have rows appended.",
          "propertyOrder": 10
        },
        "output_table_name": {
          "type": "string",
          "title": "Storage Table Name",
          "description": "Name of the table stored in Storage. Default object name used if empty.",
          "propertyOrder": 20
        }
      },
      "propertyOrder": 1000
    }
  },
  "definitions": {
    "time_range": {
      "type": "object",
      "title": "Time Range",
      "propertyOrder": 20,
      "required": [
        "time_zone",
        "period"
      ],
      "properties": {
        "time_zone": {
          "type": "string",
          "title": "Report time zone",
          "propertyOrder": 10,
          "description": "Determines the time zone that is used to establish today's date.",
          "enum": [
            "AbuDhabiMuscat",
            "Adelaide",
            "Alaska",
            "AlmatyNovosibirsk",
            "AmsterdamBerlinBernRomeStockholmVienna",
            "Arizona",
            "AstanaDhaka",
            "AthensIslandanbulMinsk",
            "AtlanticTimeCanada",
            "AucklandWellington",
            "Azores",
            "Baghdad",
            "BakuTbilisiYerevan",
            "BangkokHanoiJakarta",
            "BeijingChongqingHongKongUrumqi",
            "BelgradeBratislavaBudapestLjubljanaPrague",
            "BogotaLimaQuito",
            "Brasilia",
            "Brisbane",
            "BrusselsCopenhagenMadridParis",
            "Bucharest",
            "BuenosAiresGeorgetown",
            "Cairo",
            "CanberraMelbourneSydney",
            "CapeVerdeIsland",
            "CaracasLaPaz",
            "CasablancaMonrovia",
            "CentralAmerica",
            "CentralTimeUSCanada",
            "ChennaiKolkataMumbaiNewDelhi",
            "ChihuahuaLaPazMazatlan",
            "Darwin",
            "EasternTimeUSCanada",
            "Ekaterinburg",
            "FijiKamchatkaMarshallIsland",
            "Greenland",
            "GreenwichMeanTimeDublinEdinburghLisbonLondon",
            "GuadalajaraMexicoCityMonterrey",
            "GuamPortMoresby",
            "HararePretoria",
            "Hawaii",
            "HelsinkiKyivRigaSofiaTallinnVilnius",
            "Hobart",
            "IndianaEast",
            "InternationalDateLineWest",
            "IrkutskUlaanBataar",
            "IslandamabadKarachiTashkent",
            "Jerusalem",
            "Kabul",
            "Kathmandu",
            "Krasnoyarsk",
            "KualaLumpurSingapore",
            "KuwaitRiyadh",
            "MagadanSolomonIslandNewCaledonia",
            "MidAtlantic",
            "MidwayIslandandSamoa",
            "MoscowStPetersburgVolgograd",
            "MountainTimeUSCanada",
            "Nairobi",
            "Newfoundland",
            "Nukualofa",
            "OsakaSapporoTokyo",
            "PacificTimeUSCanadaTijuana",
            "Perth",
            "Rangoon",
            "Santiago",
            "SarajevoSkopjeWarsawZagreb",
            "Saskatchewan",
            "Seoul",
            "SriJayawardenepura",
            "Taipei",
            "Tehran",
            "Vladivostok",
            "WestCentralAfrica",
            "Yakutsk"
          ],
          "default": "BelgradeBratislavaBudapestLjubljanaPrague"
        },
        "period": {
          "title": "Report Period",
          "type": "string",
          "default": "Last14Days",
          "enum": [
            "CustomTimeRange",
            "Last14Days",
            "Last30Days",
            "LastFourWeeks",
            "LastFourWeeksStartingMonday",
            "LastMonth",
            "LastSevenDays",
            "LastSixMonths",
            "LastThreeMonths",
            "LastWeek",
            "LastWeekStartingMonday",
            "LastYear",
            "ThisMonth",
            "ThisWeek",
            "ThisWeekStartingMonday",
            "ThisYear",
            "Today",
            "Yesterday"
          ],
          "propertyOrder": 20
        },
        "date_from": {
          "type": "string",
          "title": "Date From",
          "default": "1 week ago",
          "description": "Start date of the report. Either date in YYYY-MM-DD format or dateparser string i.e. 5 days ago, 1 month ago, yesterday, etc.",
          "options": {
            "dependencies": {
              "period": "CustomTimeRange"
            }
          },
          "propertyOrder": 40
        },
        "date_to": {
          "type": "string",
          "title": "Date to",
          "default": "now",
          "description": "End date of the report. Either date in YYYY-MM-DD format or dateparser string i.e. 5 days ago, 1 month ago, yesterday, etc.",
          "options": {
            "dependencies": {
              "period": "CustomTimeRange"
            }
          },
          "propertyOrder": 50
        }
      }
    },
    "return_only_complete_data": {
      "title": "Return only complete data",
      "description": "Determines whether or not the service must ensure that all the data has been processed and is available.",
      "type": "boolean",
      "format": "checkbox",
      "default": true,
      "propertyOrder": 30
    }
  }
}